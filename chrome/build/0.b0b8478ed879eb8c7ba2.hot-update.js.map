{"version":3,"sources":["webpack:///./chrome/src/components/CreateHighlightButton.jsx"],"names":["CreateHighlightButton","props","state","onHighlightClick","bind","event","preventDefault","target","name","value","setState","highlightObj","createHighlightedObj","markInstance","unmark","domPath","storeHighlight","highlightText","newString","mark","acrossElements","separateWordSearch","className","console","log","error","setView","MapState","highlight","MapDispatch","dispatch","createHighlight","connect"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,IAAaA,qBAAb;AAAA;;AACE,iCAAYC,KAAZ,EAAmB;AAAA;;AAAA,8IACXA,KADW;;AAAA;AAAA;AAAA;;AAEjB,UAAKC,KAAL,GAAa,EAAb;AAEA,UAAKC,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBC,IAAtB,OAAxB;AAJiB;AAKlB;;AANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDAQiBC,KARjB,EAQ0B;AACtBA,YAAMC,cAAN;AADsB,0BAEAD,MAAME,MAFN;AAAA,UAEhBC,IAFgB,iBAEhBA,IAFgB;AAAA,UAEVC,KAFU,iBAEVA,KAFU;;AAGtB,WAAKC,QAAL,qBACGF,IADH,EACUC,KADV;AAGD;AAdH;AAAA;AAAA;AAAA,0FAgByBJ,KAhBzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAkBMA,sBAAMC,cAAN;AACMK,4BAnBZ,GAmB2B,mFAAAC,EAnB3B;;AAoBM,oBAAI,KAAKX,KAAL,CAAWU,YAAX,GAA0B,KAAKV,KAAL,CAAWU,YAAX,CAAwBE,YAAlD,GAAiE,KAArE,EAA4E,KAAKZ,KAAL,CAAWY,YAAX,CAAwBC,MAAxB;AApBlF;AAAA,uBAqBiC,IAAI,+CAAJ,CAASH,aAAaI,OAAtB,CArBjC;;AAAA;AAqBYF,4BArBZ;;AAsBMF,+BAAe,KAAKV,KAAL,CAAWe,cAAX,CACb;AACEL,4CADF;AAEEE,4CAFF;AAGEI,iCAAeN,aAAaO;AAH9B,iBADa,EAMb,YAAM;AACJL,+BAAaM,IAAb,CAAkBR,aAAaO,SAA/B,EAA0C;AACxCE,oCAAgB,IADwB;AAExCC,wCAAoB,KAFoB;AAGxCC,+BAAW;AAH6B,mBAA1C;AAKD,iBAZY,CAAf,GAaIC,QAAQC,GAAR,CAAY,kBAAZ,CAbJ;AAtBN;AAAA;;AAAA;AAAA;AAAA;;AAqCMD,wBAAQE,KAAR;;AArCN;AAuCI,qBAAKxB,KAAL,CAAWyB,OAAX,CAAmB,eAAnB;;AAvCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,6BA0CW;AACP,aACE;AAAA;AAAA;AACE;AAAA;AAAA,YAAQ,SAAS,KAAKvB,gBAAtB;AAAA;AAAA;AADF,OADF;AAKD;AAhDH;;AAAA;AAAA,EAA2C,gDAA3C;AAkDA,IAAMwB,WAAW,SAAXA,QAAW,QAAiB;AAAA,MAAfC,SAAe,SAAfA,SAAe;;AAChC,MAAMjB,eAAeiB,UAAUjB,YAA/B;AACA,MAAME,eAAee,UAAUf,YAA/B;AACA,SAAO,EAAEF,0BAAF,EAAgBE,0BAAhB,EAAP;AACD,CAJD;;AAMA,IAAMgB,cAAc,SAAdA,WAAc;AAAA,SAAa;AAC/Bb,oBAAgB,wBAACY,SAAD;AAAA,aAAeE,SAAS,kFAAAC,CAAgBH,SAAhB,CAAT,CAAf;AAAA;AADe,GAAb;AAAA,CAApB;;eAIe,oEAAAI,CAAQL,QAAR,EAAkBE,WAAlB,EAA+B7B,qBAA/B,C;;AAAf;;;;;;;;gCA5DaA,qB;;gCAkDP2B,Q;;gCAMAE,W","file":"0.b0b8478ed879eb8c7ba2.hot-update.js","sourcesContent":["import React, { Component } from \"react\";\nimport { firestore } from \"~/fire\";\nimport ReactDOM from \"react-dom\";\nimport { connect } from \"react-redux\";\nimport Mark from \"mark.js\";\nimport { createHighlightedObj, urlEncode } from \"../highlighting\";\nimport { createHighlight } from \"~/chrome/src/store\"\n\n\nexport class CreateHighlightButton extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n    this.onHighlightClick = this.onHighlightClick.bind(this);\n  }\n\n  handleChange = event => {\n    event.preventDefault();\n    let { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  async onHighlightClick(event) {\n    try {\n      event.preventDefault();\n      const highlightObj = createHighlightedObj();\n      if (this.props.highlightObj ? this.props.highlightObj.markInstance : false) this.props.markInstance.unmark();\n      const markInstance = await new Mark(highlightObj.domPath);\n      highlightObj ? this.props.storeHighlight(\n        {\n          highlightObj,\n          markInstance,\n          highlightText: highlightObj.newString\n        },\n        () => {\n          markInstance.mark(highlightObj.newString, {\n            acrossElements: true,\n            separateWordSearch: false,\n            className: \"chromelights-highlights\"\n          });\n        }\n      ) : console.log(\"nothing selected\")\n    } catch (err) {\n      console.error(err);\n    }\n    this.props.setView('askOrAnnotate')\n  }\n\n  render() {\n    return (\n      <div>\n        <button onClick={this.onHighlightClick}>Create a Highlight</button>\n      </div>\n    );\n  }\n}\nconst MapState = ({highlight}) => {\n  const highlightObj = highlight.highlightObj;\n  const markInstance = highlight.markInstance;\n  return { highlightObj, markInstance }\n}\n\nconst MapDispatch = dispatch => ({\n  storeHighlight: (highlight) => dispatch(createHighlight(highlight))\n});\n\nexport default connect(MapState, MapDispatch)(CreateHighlightButton);\n\n\n\n// WEBPACK FOOTER //\n// ./chrome/src/components/CreateHighlightButton.jsx"],"sourceRoot":""}