{"version":3,"sources":["webpack:///./chrome/src/containers/HighlightAnnotations.jsx"],"names":["HighlightAnnotations","props","state","selectedHighlight","activeId","newProps","setState","urlReadOnly","document","location","href","url","urlEncode","console","log","fs","collection","doc","upVote","downVote","content","comments","user","date","title"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;IAEqBA,oB;;;AACjB,kCAAYC,KAAZ,EAAmB;AAAA;;AAGf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAde,gJACTA,KADS;;AAgBf,cAAKC,KAAL,GAAa;AACXC,+BAAmB,MAAKF,KAAL,CAAWG,QAAX,IAAuB;AAD/B,SAAb;AAhBe;AAmBlB;;;;kDAEyBC,Q,EAAS;AAC/B,gBAAGA,SAASD,QAAZ,EAAqB;AACjB,qBAAKE,QAAL,CAAc,EAACH,mBAAmBE,SAASD,QAA7B,EAAd;AACH;AACJ;;;iCAIQ;AACL,gBAAMG,cAAcC,SAASC,QAAT,CAAkBC,IAAtC;AACA,gBAAMC,MAAM,wEAAAC,CAAUL,WAAV,CAAZ;AACAM,oBAAQC,GAAR,CAAY,iCAAZ,EAA+C,KAAKb,KAApD;AACA,mBACI;AAAA;AAAA,kBAAK,IAAG,sBAAR;AACI;AAAA;AAAA,sBAAI,WAAU,iBAAd;AAAA,4BACW,KAAKC,KAAL,CAAWC,iBADtB;AAAA,iBADJ;AAII,4EAAC,kFAAD,OAJJ;AAKI,4EAAC,6CAAD;AACI,8BADJ;AAEI,0BAAM,wDAAAY,CACDC,UADC,CACU,UADV,EAEDC,GAFC,CAEGN,GAFH,EAGDK,UAHC,CAGU,YAHV,EAIDC,GAJC,CAIG,KAAKf,KAAL,CAAWC,iBAJd,EAKDa,UALC,CAKU,SALV,CAFV;AAQI,6BAAS;AAAA;AAAA;AAAA;AAAA,qBARb;AASI,2BAAO;AAAA;AAAA,0BAAI,OAAM,KAAV;AAAA;AAAA,qBATX;AAUI,4BAAQ;AAAA,4BACJE,MADI,QACJA,MADI;AAAA,4BAEJC,QAFI,QAEJA,QAFI;AAAA,4BAGJC,OAHI,QAGJA,OAHI;AAAA,4BAIJC,QAJI,QAIJA,QAJI;AAAA,4BAKJC,IALI,QAKJA,IALI;AAAA,4BAMJC,IANI,QAMJA,IANI;AAAA,4BAOJC,KAPI,QAOJA,KAPI;AAAA,+BASJ;AAAA;AAAA;AACI;AAAA;AAAA;AAAKA;AAAL,6BADJ;AAEKX,oCAAQC,GAAR,QAAmBS,IAAnB,yCAAmBA,IAAnB,EAFL;AAGI,wFAAC,wEAAD;AACI,yCAASH,OADb;AAEI,sCAAME,IAFV;AAGI,sCAAK;AAHT,8BAHJ;AAQI,wFAAC,wEAAD;AACI,0CAAUH,QADd;AAEI,wCAAQD,MAFZ;AAGI,0CAAUG;AAHd;AARJ,yBATI;AAAA;AAVZ;AALJ,aADJ;AA2CH;;;;EA7E6C,gD;;eAA7BrB,oB;;;;;;;;;kCAAAA,oB","file":"0.97b7ca47e548292eaec6.hot-update.js","sourcesContent":["import React, { Component } from 'react'\nimport { Map } from 'fireview'\nimport { firestore as fs } from '~/fire'\nimport Annotations from '../components/Annotations'\nimport Interactive from '../components/Interactive'\nimport CreateHighlightButton from '../components/CreateHighlightButton'\nimport { urlEncode } from \"../highlighting\";\n\nexport default class HighlightAnnotations extends Component {\n    constructor(props) {\n        super(props);\n\n        //get the active highlight (most recently clicked)\n        // const selected = document.getElementsByClassName('activeHighlight')[0];\n        // get an array of classes on it\n        // const selectedClasses = selected.className.split(' ');\n        // const selectedId = selectedClasses.filter(el => {\n        //   return el !== 'activeHighlight' && el !== 'chromelights-highlights';\n        // });\n\n        /* the selectedId should be used to find and render all of the\n         annotations associated with the selected highlight */\n\n        // console.log('classes', selectedId);\n\n        this.state = {\n          selectedHighlight: this.props.activeId || 'Select A Highlight',\n        };\n    }\n\n    componentWillReceiveProps(newProps){\n        if(newProps.activeId){\n            this.setState({selectedHighlight: newProps.activeId})\n        }\n    }\n\n\n\n    render() {\n        const urlReadOnly = document.location.href;\n        const url = urlEncode(urlReadOnly);\n        console.log('PROPS IN HIGHLIGHTANNOTATIONS: ', this.props);\n        return (\n            <div id=\"highlight-annotation\">\n                <h3 className=\"highlight-title\">\n                    {`...${this.state.selectedHighlight}...`}\n                </h3>\n                <CreateHighlightButton />\n                <Map\n                    each\n                    from={fs\n                        .collection('UrlPages')\n                        .doc(url)\n                        .collection('highlights')\n                        .doc(this.state.selectedHighlight)\n                        .collection('entries')}\n                    Loading={<h3>Loading...</h3>}\n                    Empty={<h3 color=\"red\">No Annotations</h3>}\n                    Render={({\n                        upVote,\n                        downVote,\n                        content,\n                        comments,\n                        user,\n                        date,\n                        title,\n                    }) => (\n                        <div>\n                            <h3>{title}</h3>\n                            {console.log(typeof date)}\n                            <Annotations\n                                content={content}\n                                user={user}\n                                date=\"March 20, 2018\"\n                            />\n                            <Interactive\n                                downVote={downVote}\n                                upVote={upVote}\n                                comments={comments}\n                            />\n                        </div>\n                    )}\n                />\n            </div>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./chrome/src/containers/HighlightAnnotations.jsx"],"sourceRoot":""}