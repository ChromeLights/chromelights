{"version":3,"sources":["webpack:///./chrome/src/containers/HighlightAnnotations.jsx"],"names":["HighlightAnnotations","props","state","selectedHighlight","activeId","newProps","setState","urlReadOnly","document","location","href","url","urlEncode","setView","console","log","fs","collection","doc","upVote","downVote","content","comments","user","date","title"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;IAEqBA,oB;;;AACnB,gCAAYC,KAAZ,EAAmB;AAAA;;AAGjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAdiB,4IACXA,KADW;;AAgBjB,UAAKC,KAAL,GAAa;AACXC,yBAAmB,MAAKF,KAAL,CAAWG,QAAX,IAAuB;AAD/B,KAAb;AAhBiB;AAmBlB;;;;8CAEyBC,Q,EAAU;AAClC,UAAIA,SAASD,QAAb,EAAuB;AACrB,aAAKE,QAAL,CAAc,EAAEH,mBAAmBE,SAASD,QAA9B,EAAd;AACD;AACF;;;6BAEQ;AACP,UAAMG,cAAcC,SAASC,QAAT,CAAkBC,IAAtC;AACA,UAAMC,MAAM,wEAAAC,CAAUL,WAAV,CAAZ;AACA,UAAMM,UAAU,KAAKZ,KAAL,CAAWY,OAA3B;AACAC,cAAQC,GAAR,CAAY,iCAAZ,EAA+C,KAAKd,KAApD;AACA,aACE;AAAA;AAAA,UAAK,IAAG,sBAAR;AACE;AAAA;AAAA,YAAK,WAAU,+BAAf;AACE;AAAA;AAAA,cAAK,WAAU,kCAAf;AACE;AAAA;AAAA,gBAAI,WAAU,iBAAd;AAAA,sBACS,KAAKC,KAAL,CAAWC,iBADpB;AAAA;AADF,WADF;AAME,sEAAC,kFAAD,IAAuB,SAASU,OAAhC;AANF,SADF;AASE,oEAAC,6CAAD;AACE,oBADF;AAEE,gBAAM,wDAAAG,CACHC,UADG,CACQ,UADR,EAEHC,GAFG,CAECP,GAFD,EAGHM,UAHG,CAGQ,YAHR,EAIHC,GAJG,CAIC,KAAKhB,KAAL,CAAWC,iBAJZ,EAKHc,UALG,CAKQ,SALR,CAFR;AAQE,mBAAS;AAAA;AAAA;AAAA;AAAA,WARX;AASE,iBAAO;AAAA;AAAA,cAAI,OAAM,KAAV;AAAA;AAAA,WATT;AAUE,kBAAQ;AAAA,gBACNE,MADM,QACNA,MADM;AAAA,gBAENC,QAFM,QAENA,QAFM;AAAA,gBAGNC,OAHM,QAGNA,OAHM;AAAA,gBAINC,QAJM,QAINA,QAJM;AAAA,gBAKNC,IALM,QAKNA,IALM;AAAA,gBAMNC,IANM,QAMNA,IANM;AAAA,gBAONC,KAPM,QAONA,KAPM;AAAA,mBASN;AAAA;AAAA;AACE;AAAA;AAAA;AAAKA;AAAL,eADF;AAEGX,sBAAQC,GAAR,QAAmBS,IAAnB,yCAAmBA,IAAnB,EAFH;AAGE,0EAAC,wEAAD;AACE,yBAASH,OADX;AAEE,sBAAME,IAFR;AAGE,sBAAK;AAHP,gBAHF;AAQE,0EAAC,wEAAD;AACE,0BAAUH,QADZ;AAEE,wBAAQD,MAFV;AAGE,0BAAUG;AAHZ;AARF,aATM;AAAA;AAVV;AATF,OADF;AA+CD;;;;EAhF+C,gD;;eAA7BtB,oB;;;;;;;;;gCAAAA,oB","file":"0.c189e4affc2b43135d0c.hot-update.js","sourcesContent":["import React, { Component } from 'react';\nimport { Map } from 'fireview';\nimport { firestore as fs } from '~/fire';\nimport Annotations from '../components/Annotations';\nimport Interactive from '../components/Interactive';\nimport CreateHighlightButton from '../components/CreateHighlightButton';\nimport { urlEncode } from '../highlighting';\n\nexport default class HighlightAnnotations extends Component {\n  constructor(props) {\n    super(props);\n\n    //get the active highlight (most recently clicked)\n    // const selected = document.getElementsByClassName('activeHighlight')[0];\n    // get an array of classes on it\n    // const selectedClasses = selected.className.split(' ');\n    // const selectedId = selectedClasses.filter(el => {\n    //   return el !== 'activeHighlight' && el !== 'chromelights-highlights';\n    // });\n\n    /* the selectedId should be used to find and render all of the\n         annotations associated with the selected highlight */\n\n    // console.log('classes', selectedId);\n\n    this.state = {\n      selectedHighlight: this.props.activeId || 'Select Some Text'\n    };\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.activeId) {\n      this.setState({ selectedHighlight: newProps.activeId });\n    }\n  }\n\n  render() {\n    const urlReadOnly = document.location.href;\n    const url = urlEncode(urlReadOnly);\n    const setView = this.props.setView;\n    console.log('PROPS IN HIGHLIGHTANNOTATIONS: ', this.props);\n    return (\n      <div id=\"highlight-annotation\">\n        <div className=\"chromelights-highlight-header\">\n          <div className=\"chromelights-highlight-container\">\n            <h3 className=\"highlight-title\">\n              {`...${this.state.selectedHighlight}...`}\n            </h3>\n          </div>\n          <CreateHighlightButton setView={setView} />\n        </div>\n        <Map\n          each\n          from={fs\n            .collection('UrlPages')\n            .doc(url)\n            .collection('highlights')\n            .doc(this.state.selectedHighlight)\n            .collection('entries')}\n          Loading={<h3>Loading...</h3>}\n          Empty={<h3 color=\"red\">No Annotations</h3>}\n          Render={({\n            upVote,\n            downVote,\n            content,\n            comments,\n            user,\n            date,\n            title\n          }) => (\n            <div>\n              <h3>{title}</h3>\n              {console.log(typeof date)}\n              <Annotations\n                content={content}\n                user={user}\n                date=\"March 20, 2018\"\n              />\n              <Interactive\n                downVote={downVote}\n                upVote={upVote}\n                comments={comments}\n              />\n            </div>\n          )}\n        />\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./chrome/src/containers/HighlightAnnotations.jsx"],"sourceRoot":""}